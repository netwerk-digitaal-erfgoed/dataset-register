@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix schema: <https://schema.org/> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix dc: <http://purl.org/dc/terms/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix reg: <http://terms.netwerkdigitaalerfgoed.nl/ns/register#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .

##
## Schema.org
##

#
# Class shapes
#

reg:DatacatalogShape
    a sh:NodeShape ;
    sh:targetClass schema:DataCatalog ;
    rdfs:label "Datacatalogus"@nl, "Data catalog"@en ;
    sh:description "Een datacatalogus bestaat uit een set van datasetbeschrijvingen"@nl, "A data catalog consists of a set of dataset descriptions"@en ;
    sh:property
        reg:SchemaCatalogNameProperty,
        reg:SchemaDescriptionProperty,
        reg:SchemaDescriptionPropertyShouldExist,
        [
            sh:path schema:publisher ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:severity sh:Warning ;
            sh:name "Persoon of organisatie die de datacatalogus heeft gepubliceerd"@nl, "Person or organization that published the data catalog"@en ;
            sh:description """
                The publisher of the data catalog.
            """@en ;
            sh:message "Een datacatalogus moet een geldige uitgever bevatten"@nl, "A data catalog must have a valid publisher"@en ;
            sh:or (
                [
                    sh:node reg:OrganizationShape ;
                ]
                [
                    sh:node reg:PersonShape ;
                ]
            ) ;
        ] ,
        reg:SchemaDatasetProperty
.

reg:DatasetShape
    a sh:NodeShape ;
    sh:targetClass schema:Dataset ;
    sh:nodeKind sh:IRI ;
    sh:pattern "^https?://" ;
    sh:name "Datasetbeschrijving"@nl, "Dataset description"@en ;
    sh:description "Een datasetbeschrijving bestaat uit elementen die de dataset beschrijven"@nl, "A dataset description consists of elements that describe the dataset"@en ;

    sh:property
        # Required properties
        reg:SchemaDatasetNameProperty,
        reg:SchemaDescriptionProperty,
        reg:SchemaDescriptionPropertyShouldExist,
        reg:SchemaPublisherProperty,
        reg:SchemaDatasetLicenseProperty,
        # Recommended properties
        reg:SchemaDistributionProperty,
        reg:SchemaCreatorProperty,
        reg:SchemaDatePublishedProperty,
        reg:SchemaDateCreatedProperty,
        reg:SchemaDateModifiedProperty,
        [
            a sh:PropertyShape ;
            sh:path schema:version ;
            sh:name "Version"@en ;
            sh:minCount 0 ;
            sh:maxCount 1 ;
            sh:message "Een datasetbeschrijving mag een versie bevatten"@nl, "A dataset description may contain a version"@en ;
        ] ,
        [
            a sh:PropertyShape ;
            sh:path schema:inLanguage ;
            sh:minCount 0 ;
            sh:name "Language"@en ;
            sh:description """
                Language or languages in which the dataset is available. Use one of the language codes from the [[BCP47]], such as "nl-NL".
            """@en ;
        ] ,
        [
            a sh:PropertyShape ;
            sh:path schema:mainEntityOfPage ;
            sh:minCount 0 ;
            sh:name "Main entity of page"@en ;
            sh:description """
                URL of a landing page where the dataset is described for human users.
                The human-readable description *MUST* be consistent with and include at least all details (such as distributions) from the RDF dataset description.
            """@en ;
        ] ,
        [
            a sh:PropertyShape ;
            sh:path schema:isBasedOn ;
            sh:minCount 0 ;
            sh:name "Is based on"@en ;
            sh:description """
                The URL of dataset this dataset is based on (previously schema:isBasedOnUrl).
            """@en ;
        ] ,
        [
            a sh:PropertyShape ;
            sh:path schema:citation ;
            sh:name "Citation"@en ;
            sh:description """
                A citation or reference for the dataset.
            """@en ;
        ] ,
        reg:SchemaGenreProperty,
        reg:SchemaKeywordsProperty,
        reg:SchemaSpatialCoverageProperty,
        reg:SchemaTemporalCoverageProperty,
        [
            a sh:PropertyShape ;
            sh:path schema:hasPart ;
            sh:minCount 0 ;
            sh:description """
                Indicates a dataset that is part of this dataset and also available as a separate dataset.
            """@en ;
        ] ,
        [
            a sh:PropertyShape ;
            sh:path schema:includedInDataCatalog ;
            sh:minCount 0 ;
            sh:description """
                The HTTP [[IRI]] of the data catalog(s) that the dataset belongs to.
            """@en ;
        ]
.

reg:DistributionShape
    a sh:NodeShape ;
    sh:targetClass schema:DataDownload ;
    sh:property
        # Required properties
        reg:DistributionContentUrlProperty,
        reg:DistributionContentUrlIriProperty,
        reg:DistributionEncodingFormatProperty,
        # Recommended properties
        reg:SchemaDistributionNameProperty,
        [
            sh:path schema:description ;
            sh:or (
                [ sh:datatype xsd:string ]
                [ sh:datatype rdf:langString ]
            );
            sh:uniqueLang true ;
            sh:name "Distribution description"@en ;
            sh:description "A description of the distribution."@en ;
            sh:message "Een distributie mag maximaal één beschrijving hebben per taal."@nl, "A distribution may have at most one description per language"@en ;
        ] ,
        [
            a sh:PropertyShape ;
            sh:path schema:datePublished ;
            sh:minCount 0 ;
            sh:maxCount 1 ;
            sh:node reg:DateTimeShape ;
            sh:description "Date (or datetime) the distribution was published"@en ;
        ] ,
        [
            a sh:PropertyShape ;
            sh:path schema:dateModified ;
            sh:minCount 0 ;
            sh:maxCount 1 ;
            sh:node reg:DateTimeShape ;
            sh:description "Date (or datetime) the distribution was last modified"@en ;
        ] ,
        [
            a sh:PropertyShape ;
            sh:path schema:inLanguage ;
            sh:minCount 0 ;
            sh:name "Language"@en ;
            sh:description """
                Language or languages in which the distribution is available. Use one of the language codes from the [[BCP47]], such as "nl-NL".
            """@en ;
        ] ,
        reg:SchemaDistributionLicenseProperty ,
        [
            a sh:PropertyShape ;
            sh:path schema:contentSize ;
            sh:minCount 0 ;
            sh:maxCount 1 ;
            sh:description "Distribution file size in bytes."@en ;
        ] ,
        [
            a sh:PropertyShape ;
            sh:path schema:usageInfo ;
            sh:minCount 0 ;
            sh:maxCount 1 ;
            sh:description "A link to the [=web API=] documentation; see [[#developer-docs]]."@en ;
        ] ,
        reg:SchemaDescriptionPropertyShouldExist
.

reg:OrganizationShape
    a sh:NodeShape ;
    sh:class schema:Organization ;
    sh:message "Must be a valid organization" ;
    sh:nodeKind sh:IRI ;
    sh:pattern "^https?://" ;
    sh:property
        reg:OrganizationNameProperty,
        [
            sh:path schema:alternateName ;
            sh:or (
                [ sh:datatype xsd:string ]
                [ sh:datatype rdf:langString ]
            ) ;
            sh:minCount 0 ;
            sh:name "Alternatieve naam van de organisatie"@nl, "Alternative name of the organization"@en ;
            sh:description "Alternative names such as an abbreviation that the organization is known under."@en ;
            sh:message "Een organisatie mag één of meer alternatieve namen hebben; maximaal 1 per taal"@nl, "An organization may have one or more alternative names; at most one per language"@en ;
        ] ,
        [
            sh:path schema:alternateName ;
            sh:uniqueLang true ;
            sh:severity sh:Warning ;
            sh:message "Een organisatie mag maximaal één alternatieve naam (per taal) hebben"@nl, "An organization may have at most one alternative name (per language)"@en ;
        ] ,
        [
            sh:path schema:contactPoint ;
            sh:class schema:ContactPoint ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:severity sh:Warning ;
            sh:node [
                a sh:NodeShape ;
                sh:targetClass schema:ContactPoint ;
                sh:property [
                    sh:path schema:name ;
                    sh:minCount 1;
                    sh:or (
                      [ sh:datatype xsd:string ]
                      [ sh:datatype rdf:langString ]
                    ) ;
                    sh:uniqueLang true ;
                    sh:message "ContactPoint moet een naam hebben"@nl, "ContactPoint must have a name"@en ;
                ] ,
                [
                    sh:path schema:email ;
                    sh:minCount 1;
                    sh:message "ContactPoint moet een e-mailadres hebben"@nl, "ContactPoint must have an e-mail address"@en ;
                ]
            ] ;
            sh:description """
                Where [=consumers=] can reach the organization for questions and suggestions about the dataset.
            """@en ;
            sh:message "Een organisatie moet een ContactPoint hebben"@nl, "An organization must have a ContactPoint"@en ;
        ] ,
        [
            sh:path schema:identifier ;
            sh:datatype xsd:string ;
            sh:minCount 1 ;
            sh:severity sh:Warning ;
            sh:name "Identifier"@en ;
            sh:description """
                Identifier(s) of the organization, at least its <a href="https://www.nationaalarchief.nl/archiveren/kennisbank/isil-codes">ISIL code</a>.
            """@en ;
            sh:message "Een organisatie moet één of meer identifiers hebben"@nl, "An organization must have one or more identifiers"@en ;
        ] ,
        [
            sh:path schema:sameAs ;
            sh:nodeKind sh:IRI ;
            sh:minCount 0 ;
            sh:severity sh:Info ;
            sh:name "Same as"@en ;
            sh:description """
                Links to the organization in other databases.
            """@en ;
            sh:message "Een organisatie mag één of meer links hebben"@nl , "An organization may have one or more links"@en ;
        ]
.

reg:PersonShape
    a sh:NodeShape ;
    sh:class schema:Person ;
    sh:nodeKind sh:IRI ;
    sh:pattern "^https?://" ;
    sh:property [
        sh:path schema:name ;
        sh:minCount 1 ;
        sh:or (
            [ sh:datatype xsd:string ]
            [ sh:datatype rdf:langString ]
        ) ;
        sh:uniqueLang true ;
        sh:message "Een persoon moet een naam hebben"@nl, "A person must have a name"@en ;
    ] .

reg:DateTimeShape a sh:NodeShape ;
    sh:or (
        [ sh:datatype schema:Date ]
        [ sh:datatype schema:DateTime ]
        [ sh:datatype xsd:dateTime ]
        [ sh:datatype xsd:date ]
    ) ;
    sh:pattern "^[0-9]{4}-[0-9]{2}-[0-9]{2}(T[0-9]{2}:[0-9]{2}:[0-9]{2}.*)?$" ;
    sh:name "dateTime" ;
    sh:message "Datum moet geldig zijn overeenkomstig ISO-8601 (YYYY-MM-DD of YYYY-MM-DDTHH:MM:SS met optionele tijdzone)"@nl, "Date must be valid according to ISO-8601 (YYYY-MM-DD or YYYY-MM-DDTHH:MM:SS with optional timezone)"@en ;
    sh:severity sh:Warning ;
.

#
# Property shapes
#

reg:SchemaCatalogNameProperty a sh:PropertyShape ;
    sh:path schema:name ;
    sh:minCount 1 ;
    sh:or (
        [ sh:datatype xsd:string ]
        [ sh:datatype rdf:langString ]
    ) ;
    sh:uniqueLang true ;
    sh:name "Naam van de datacatalogus"@nl, "Name of the data catalog"@en ;
    sh:description "The name of the data catalog."@en ;
    sh:message "Een datacatalogus moet een naam hebben"@nl, "A data catalog must have a name"@en ;
.

reg:OrganizationNameProperty a sh:PropertyShape ;
    sh:path schema:name ;
    sh:minCount 1 ;
    sh:or (
        [ sh:datatype xsd:string ]
        [ sh:datatype rdf:langString ]
    ) ;
    sh:uniqueLang true ;
    sh:description "The organization’s full name."@en ;
    sh:message "Een organisatie moet een naam hebben"@nl, "An organization must contain a name"@en ;
.

reg:DistributionContentUrlProperty a sh:PropertyShape ;
    sh:path schema:contentUrl ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:description "De URL waar de distributie rechtstreeks toegankelijk is."@nl, "The URL where the distribution may be directly accessed."@en ;
    sh:message "Een distributie moet een URL hebben"@nl, "A distribution must have a content URL"@en ;
.

reg:DistributionContentUrlIriProperty a sh:PropertyShape ;
    sh:path schema:contentUrl ;
    sh:or (
        [ sh:datatype xsd:anyURI ]      # literal preferred see https://github.com/netwerk-digitaal-erfgoed/dataset-register/issues/1366
        [ sh:nodeKind sh:IRI ]          # IRI left for backward compatibility
    ) ;
    sh:pattern "^https?://" ;
    sh:severity sh:Warning ;  # will become a sh:Violation in near future, to be communicated
    sh:description "De URL waar de distributie rechtstreeks toegankelijk is."@nl, "The URL where the distribution may be directly accessed."@en ;
    sh:message "De URL van de distributie kan een IRI zijn of een letterlijke waarde van type xsd:anyURI."@nl, "The distribution’s content URL can be an IRI or a literal of type xsd:anyURI."@en ;
.

reg:DistributionEncodingFormatProperty a sh:PropertyShape ;
    sh:minCount 1 ;
    sh:path schema:encodingFormat ;
    sh:description """
        Het MIME-formaat van de distributie, bijvoorbeeld `application/sparql-query` voor een SPARQL-endpoint
        of `application/ld+json` voor een datadump die is geserialiseerd als JSON-LD."""@nl ,
    """The distribution's MIME format, for example `application/sparql-query` for a SPARQL endpoint
    or `application/ld+json` for a data dump serialized as JSON-LD.
    Use a value from the [[IANA-MEDIA-TYPES]] list.
    The value should indicate the Media type of the response of the schema:contentUrl when no Accept header is included in the request.
    It is recommended to provide a documentation URL via the schema:usageInfo property that lists the supported encoding formats which may be requested via the Accept HTTP header.
    When the distribution is compressed, the compression format (e.g. zip, gzip) should be added to the `schema:encodingFormat` (e.g. `text/turtle+gzip`).
    """@en ;
    sh:message "Een distributie moet minimaal één encoderingsformaat hebben"@nl, "A distribution must have at least one encoding format"@en ;
.

reg:SchemaDatasetProperty a sh:PropertyShape ;
    sh:path schema:dataset ;
    sh:class schema:Dataset ;
    sh:minCount 1 ;
    sh:node reg:DatasetShape ;
    sh:name "Dataset(s) in de datacatalogus"@nl, "Dataset(s) in the data catalog"@en ;
    sh:description "The datasets that are contained in the data catalog."@en ;
    sh:message "Een datacatalogus moet minimaal één dataset bevatten"@nl, "A data catalog must have at least one dataset"@en ;
    sh:severity sh:Warning ;
.

reg:SchemaDatasetNameProperty a sh:PropertyShape ;
    sh:path schema:name ;
    sh:minCount 1 ;
    sh:or (
        [ sh:datatype xsd:string ]
        [ sh:datatype rdf:langString ]
    ) ;
    sh:uniqueLang true ;
    sh:name "Naam van de dataset"@nl, "Name of the dataset"@en ;
    sh:message "Een datasetbeschrijving moet een naam hebben"@nl, "A dataset description must have a name"@en ;
.

reg:SchemaDistributionNameProperty a sh:PropertyShape ;
    sh:path schema:name ;
    sh:or (
        [ sh:datatype xsd:string ]
        [ sh:datatype rdf:langString ]
    ) ;
    sh:uniqueLang true ;
    sh:minCount 0 ;
    sh:maxCount 1 ;
    sh:description "Name of the distribution, depicting the type of distribution."@en ;
    sh:message "Een distributie mag maximaal één naam (per taal) bevatten"@nl, "A distribution may have at most one name (per language)"@en ;
.

reg:SchemaDescriptionProperty a sh:PropertyShape ;
    sh:path schema:description ;
    sh:or (
        [ sh:datatype xsd:string ]
        [ sh:datatype rdf:langString ]
    );
    sh:uniqueLang true ;
    sh:name "Description"@en ;
    sh:description "Description."@en ;
    sh:message "Moet precies één beschrijving hebben van type string of langString"@nl, "Must have a single description of type string or langString"@en ;
.

reg:SchemaDescriptionPropertyShouldExist a sh:PropertyShape ;
    sh:path schema:description ;
    sh:minCount 1 ;
    sh:severity sh:Info ;
    sh:message "Zou een beschrijving moeten hebben"@nl, "Should have a description"@en ;
.

reg:SchemaDateCreatedProperty a sh:PropertyShape ;
    sh:path schema:dateCreated ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:severity sh:Info ;
    sh:node reg:DateTimeShape ;
    sh:name "Aanmaakdatum van de datasetbeschrijving"@nl, "Creation date of the dataset description"@en ;
    sh:message "Een datasetbeschrijving zou één aanmaakdatum moeten bevatten"@nl, "A dataset description should contain one creation date"@en ;
.

reg:SchemaDatePublishedProperty a sh:PropertyShape ;
    sh:path schema:datePublished ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:severity sh:Info ;
    sh:node reg:DateTimeShape ;
    sh:name "Publicatiedatum van de datasetbeschrijving"@nl, "Publication date of the dataset description"@en ;
    sh:message "Een datasetbeschrijving zou één publicatiedatum moeten bevatten"@nl, "A dataset description should contain one publication date"@en ;
.

reg:SchemaDateModifiedProperty a sh:PropertyShape ;
    sh:path schema:dateModified ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:severity sh:Info ;
    sh:node reg:DateTimeShape ;
    sh:name "Datum waarop de datasetbeschrijving voor het laatst is gewijzigd"@nl, "Date on which the dataset description was last modified"@en ;
    sh:message "Een datasetbeschrijving zou één wijzigingsdatum moeten bevatten"@nl, "A dataset description should contain one modification date"@en ;
.

reg:SchemaCreatorProperty a sh:PropertyShape ;
    sh:path schema:creator ;
    sh:minCount 1 ;
    sh:severity sh:Info ;
    sh:or (
        [
            sh:node reg:OrganizationShape ;
        ]
        [
            sh:node reg:PersonShape ;
        ]
    ) ;
    sh:name "Persoon of organisatie die de dataset heeft gemaakt"@nl, "Person or organization which created the dataset"@en ;
    sh:description """
        The owner of the dataset.
    """@en ;
    sh:message "Een datasetbeschrijving zou een maker moeten hebben"@nl, "A dataset description should contain a creator"@en ;
.

reg:SchemaPublisherProperty a sh:PropertyShape ;
    sh:path schema:publisher ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:name "Persoon of organisatie die de dataset heeft gepubliceerd"@nl, "Person or organization that published the dataset"@en ;
    sh:description """
        The publisher of the dataset.
    """@en ;
    sh:message "Een dataset description moet een geldige uitgever bevatten (zonder waarschuwingen)"@nl, "A dataset description must contain a valid publisher (without warnings)"@en ;
    sh:or (
        [
            sh:node reg:OrganizationShape ;
        ]
        [
            sh:node reg:PersonShape ;
        ]
    ) ;
.

reg:SchemaDatasetLicenseProperty a sh:PropertyShape ;
    sh:path schema:license ;
    sh:nodeKind sh:IRIOrLiteral ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:name "Licentie"@nl, "License"@en ;
    sh:description "Licentie die van toepassing is op de datasetbeschrijving"@nl, """
        Publishers *MUST* make known under which [[DWBP#licenses|license]] the dataset may be used.

        The value *MUST* be the canonical URI of a license.
        For example, use https://creativecommons.org/licenses/by/4.0/ instead
        of http://creativecommons.org/licenses/by/4.0/deed.nl.

        The value *SHOULD* be an open license that allows the data to used by [=consumers=],
        for example one of the [Creative Commons](https://creativecommons.org/choose/) licenses.
        """@en ;
    sh:message "Een datasetbeschrijving moet één licentie bevatten (in de vorm van een URI)"@nl, "A dataset description must contain one license (in the form of a URI)"@en ;
.

reg:SchemaDistributionLicenseProperty a sh:PropertyShape ;
    sh:path schema:license ;
    sh:nodeKind sh:IRIOrLiteral ;
    sh:minCount 0 ;
    sh:maxCount 1 ;
    sh:description "Licentie die van toepassing is op de datasetdistributie."@nl, "License applicable to the dataset distribution."@en ;
    sh:message "Een distributie mag maximaal één licentie bevatten (in de vorm van een IRI)"@nl, "A distribution may contain at most one license (as a IRI)"@en ;
.

reg:SchemaDistributionProperty a sh:PropertyShape ;
    sh:class schema:DataDownload ;
    sh:minCount 1 ;
    sh:severity sh:Info ;
    sh:path schema:distribution ;
    sh:name "Dataset distributions"@en , "Distributies van een dataset"@nl ;
    # No ‘sh:node reg:DistributionShape’ here on purpose, because that causes violations on child nodes where we expect
    # infos, for example on a missing distribution description. The report will be valid while containing violations,
    # which is confusing to users.
.

reg:SchemaKeywordsProperty a sh:PropertyShape ;
    sh:path schema:keywords ;
    sh:minCount 1 ;
    sh:severity sh:Info ;
    sh:description """
        The keyword or keywords which describe the dataset.
    """@en ;
    sh:message "Een datasetbeschrijving zou trefwoorden moeten bevatten"@nl, "A dataset description should contain keywords"@en ;
.

reg:SchemaSpatialCoverageProperty a sh:PropertyShape ;
    sh:path schema:spatialCoverage ;
    sh:minCount 1 ;
    sh:severity sh:Info ;
    sh:description """
        Indicates the place(s) which are the focus of the dataset.
    """@en ;
    sh:message "Een datasetbeschrijving zou een gebiedsaanduiding moeten bevatten"@nl, "A dataset description should contain spatial coverage"@en ;
.

reg:SchemaTemporalCoverageProperty a sh:PropertyShape ;
    sh:path schema:temporalCoverage ;
    sh:minCount 1 ;
    sh:severity sh:Info ;
    sh:description """
        Indicates the period that the dataset applies to.
    """@en ;
    sh:message "Een datasetbeschrijving zou een tijdsaanduiding moeten bevatten"@nl, "A dataset description should contain temporal coverage"@en ;
.

reg:SchemaGenreProperty a sh:PropertyShape ;
    sh:path schema:genre ;
    sh:minCount 1 ;
    sh:severity sh:Info ;
    sh:description """
        The genre or genres which describe the dataset.
    """@en ;
    sh:message "Een datasetbeschrijving zou genres moeten bevatten"@nl, "A dataset description should contain genres"@en ;
.

##
## DCAT
##

#
# Class shapes
#

dcat:DatasetShape
    a sh:NodeShape ;
    sh:name "Dataset" ;
    sh:property [
        sh:minCount 1 ;
        sh:path dc:title
    ],
    [
        sh:path dc:alternative
    ],
    [
        sh:path dc:description ;
        sh:minCount 1 ;
        sh:severity sh:Info ;
        sh:message "Dataset zou een beschrijving moeten hebben"@nl, "Dataset should have a description"@en ;
    ],
    [
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:path dc:license
    ],
    [
        sh:path dc:created ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:severity sh:Info ;
        sh:message "Dataset zou een aanmaakdatum moeten hebben"@nl, "Dataset description  should have a creation date"@en ;
    ],
    [
        sh:path dc:issued ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:severity sh:Info ;
        sh:message "Dataset zou een uitgavedatum moeten bevatten"@nl, "Dataset description  should contain an issued date"@en ;
    ],
    [
        sh:path dc:modified ;
        sh:minCount 1 ;
        sh:maxCount 1 ;
        sh:severity sh:Info ;
        sh:message "Datasetbeschrijving zou een laatste wijzigingsdatum moeten bevatten"@nl, "Dataset description  should contain a modification date"@en ;
    ],
    [
        sh:path dcat:keyword ;
        sh:minCount 1 ;
        sh:severity sh:Info ;
        sh:message "Datasetbeschrijving zou trefwoorden moeten bevatten"@nl, "Dataset description should contain keywords"@en ;
    ],
    [
        sh:path dc:spatial ;
        sh:minCount 1 ;
        sh:severity sh:Info ;
        sh:message "Datasetbeschrijving zou een gebiedsaanduiding moeten bevatten"@nl, "Dataset description should contain spatial coverage"@en ;
    ],
    [
        sh:path dc:temporal ;
        sh:minCount 1 ;
        sh:severity sh:Info ;
        sh:message "Datasetbeschrijving zou een een tijdsaanduiding moeten bevatten"@nl, "Dataset description should contain temporal coverage"@en ;
    ],
    [
        sh:path dc:language ;
        sh:minCount 1 ;
        sh:severity sh:Info ;
        sh:message "Dataset zou één of meer talen moeten bevatten"@nl, "Dataset description should contain one or more languages"@en ;
    ],
    [
        sh:path dc:publisher ;
        sh:minCount 1 ;
        sh:severity sh:Warning ;
        sh:or (
            [
                 sh:class foaf:Organization ;
                 sh:node dcat:OrganizationShape ;
            ]
            [
                 sh:class foaf:Person ;
                 sh:node dcat:PersonShape ;
            ]
        ) ;
    ],
    [
        sh:path dc:creator ;
        sh:minCount 1 ;
        sh:severity sh:Info ;
        sh:or (
            [
                 sh:class foaf:Organization ;
                 sh:node dcat:OrganizationShape ;
            ]
            [
                 sh:class foaf:Person ;
                 sh:node dcat:PersonShape ;
            ]
        ) ;
        sh:message "Datasetbeschrijving zou een maker moeten bevatten"@nl, "Dataset description should contain a creator"@en ;
    ],
    [
        sh:path dcat:distribution ;
        sh:class dcat:Distribution ;
        sh:node dcat:DistributionShape ;
        sh:minCount 1 ;
        sh:severity sh:Info ;
        sh:message "Datasetbeschrijving zou minstens één distributie moeten bevatten"@nl, "Dataset description should contain at least one distribution"@en ;
    ] ;
    sh:targetClass dcat:Dataset ;
.

dcat:DistributionShape
    a sh:NodeShape ;
    sh:targetClass dcat:Distribution ;
    sh:or (
        [ sh:property [
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:path dcat:accessURL
            ]
        ]
        [ sh:property [
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:path dcat:downloadURL
            ]
        ]
    ) ;
    sh:or (
        [ sh:property [
            sh:minCount 1 ;
            sh:path dcat:mediaType
        ] ]
        [ sh:property [
            sh:minCount 1 ;
            sh:path dc:format
        ] ]
    ) .

dcat:OrganizationShape
    a sh:NodeShape ;
    sh:nodeKind sh:IRI ;
    sh:pattern "^https?://" ;
    sh:property [
        sh:path foaf:name ;
        sh:minCount 1 ;
        sh:or (
            [ sh:datatype xsd:string ]
            [ sh:datatype rdf:langString ]
        ) ;
        sh:uniqueLang true ;
        sh:message "Een organisatie moet een naam hebben"@nl, "An organization must have a name"@en ;
    ] .

dcat:PersonShape
    a sh:NodeShape ;
    sh:nodeKind sh:IRI ;
    sh:pattern "^https?://" ;
    sh:property [
        sh:path foaf:name ;
        sh:minCount 1 ;
        sh:or (
            [ sh:datatype xsd:string ]
            [ sh:datatype rdf:langString ]
        ) ;
        sh:uniqueLang true ;
        sh:message "Een persoon moet een naam hebben"@nl, "A person must have a name"@en ;
    ] .
